[TOC]

# 4.3 D触发器

## 4.3.1 D触发器的逻辑功能

### D触发器的逻辑符号



```verilog
posedge CP
negedge CP
```

```verilog
always @(posedge CP or negedge Sd_ or negedge Rd_)
```

这是一个异步设计，因为有时钟之外的信号在敏感事件列表里面

## 阻塞性赋值和非阻塞性赋值

=阻塞性赋值：前面的执行完了才执行下一条，有先后顺序

<=非阻塞性赋值：没有先后顺序，同时执行，具有串行性

经验上，组合逻辑电路使用阻塞性赋值。时序逻辑电路使用非阻塞性赋值。

## D触发器

输入：

- 时钟信号——系统认为else后面的是时钟信号
- 输入信号
- 使能信号——是**同步信号**！
- 异步置位、复位信号



---

下降沿触发的信号必须前面加“！”，否则会出现语法错误

---



---

## 异步复位信号使用下降沿

异步复位信号通常使用下降沿触发，因为干扰产生上升沿的概率比下降沿大得多

---

### 包含异步事件

若包含，优先级必须最高，否则语法错误

## 具有异步复位、同步置位、时钟使能的D触发器

错误写法：

```verilog
if(!resn)	...
    else if (set)	...//这样得不到理想电路，因为使能信号的优先级应更高，否则使能端为0依然会置位
        else if (en)	...
```

正确写法

### 使能端与功耗

使能端的有效利用可以降低动态功耗，如无效信号输入时关闭器件